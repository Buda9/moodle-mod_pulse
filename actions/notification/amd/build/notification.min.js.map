{"version":3,"file":"notification.min.js","sources":["../src/notification.js"],"sourcesContent":["define('pulseaction_notification/notification', ['jquery', 'core/fragment'], function($, Fragment) {\n\n    var contextID;\n\n    const SELECTORS = {\n        chaperType : \"#id_pulsenotification_contenttype\",\n        mod: \"#id_pulsenotification_dynamiccontent\"\n    };\n\n    const addChapterEventListners = (contextid) => {\n\n        contextID = contextid\n\n        document.querySelector(SELECTORS.chaperType).addEventListener(\"change\", (e) => updateChapter());\n        document.querySelector(SELECTORS.mod).addEventListener(\"change\", (e) => updateChapter());\n    }\n\n    const updateChapter = (method) => {\n        var type = document.querySelector(\"#id_pulsenotification_contenttype\").value;\n        var mod = document.querySelector(\"#id_pulsenotification_dynamiccontent\");\n        var chapter = document.querySelector(\"#id_pulsenotification_chapter\");\n\n        if (parseInt(type) != 2) {\n            return true;\n        }\n\n        var params = {mod: mod.value};\n\n        // TODO: Loading icon near.\n        Fragment.loadFragment('pulseaction_notification', 'update_chapters', contextID, params).then((html, js) => {\n            chapter.innerHTML = html;\n        }).catch();\n    }\n\n\n    return {\n\n        init: function() {\n\n        },\n\n        updateChapter: function(contextid) {\n            addChapterEventListners(contextid);\n        }\n    }\n})\n"],"names":["define","$","Fragment","contextID","SELECTORS","updateChapter","method","type","document","querySelector","value","mod","chapter","parseInt","params","loadFragment","then","html","js","innerHTML","catch","init","contextid","addEventListener","e","addChapterEventListners"],"mappings":"AAAAA,+CAAgD,CAAC,SAAU,kBAAkB,SAASC,EAAGC,cAEjFC,gBAEEC,qBACW,oCADXA,cAEG,uCAWHC,cAAiBC,aACfC,KAAOC,SAASC,cAAc,qCAAqCC,MACnEC,IAAMH,SAASC,cAAc,wCAC7BG,QAAUJ,SAASC,cAAc,oCAEf,GAAlBI,SAASN,aACF,MAGPO,OAAS,CAACH,IAAKA,IAAID,OAGvBR,SAASa,aAAa,2BAA4B,kBAAmBZ,UAAWW,QAAQE,MAAK,CAACC,KAAMC,MAChGN,QAAQO,UAAYF,QACrBG,eAIA,CAEHC,KAAM,aAINhB,cAAe,SAASiB,WAhCKA,CAAAA,YAE7BnB,UAAYmB,UAEZd,SAASC,cAAcL,sBAAsBmB,iBAAiB,UAAWC,GAAMnB,kBAC/EG,SAASC,cAAcL,eAAemB,iBAAiB,UAAWC,GAAMnB,mBA4BpEoB,CAAwBH"}