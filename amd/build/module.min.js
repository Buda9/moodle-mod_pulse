define ("mod_pulse/module",[],function(){return{init:function init(){var a=this,b=document.getElementsByClassName("fitem_id_templatevars_editor");console.log(b);for(var c=0;c<b.length;c++){b[c].addEventListener("click",function(){var a=document.getElementById("id_pulse_content_editoreditable"),b=document.getElementsByClassName("insertatcaretactive");for(j=0;j<b.length;j++){b[j].classList.remove("insertatcaretactive")}a.classList.add("insertatcaretactive")})}for(var d=document.getElementsByClassName("clickforword"),e=0;e<d.length;e++){d[e].addEventListener("click",function(b){b.preventDefault();a.insertAtCaret("{"+this.getAttribute("data-text")+"}")})}var f=this.getAllTextNodes(document.getElementById("page-mod-pulse-mod").querySelector("#fgroup_id_completionrequireapproval [data-fieldtype='autocomplete']"));f.forEach(function(a){var b=document.createElement("span");b.classList="badge badge-info pulse-completion-roles";a.after(b);b.appendChild(a)})},getAllTextNodes:function getAllTextNodes(a){return Array.from(a.childNodes).filter(function(a){return 3===a.nodeType&&1<a.textContent.trim().length})},insertAtCaret:function insertAtCaret(a){for(var b=document.getElementsByClassName("insertatcaretactive"),c=0,d;c<b.length;c++){d=b[c];if("undefined"==typeof d.value){var e,f;if(window.getSelection){e=window.getSelection();if(e.getRangeAt&&e.rangeCount){f=e.getRangeAt(0);f.deleteContents();f.insertNode(document.createTextNode(a));for(var k=0;k!=a.length+1;k++){e.modify("move","right","character")}}}else if(document.selection&&document.selection.createRange){f=document.selection.createRange();f.text=a}}else{if(document.selection){d.focus();e=document.selection.createRange();e.text=a;d.focus()}else if(d.selectionStart||"0"==d.selectionStart){var g=d.selectionStart,h=d.selectionEnd,i=d.scrollTop;d.value=d.value.substring(0,g)+a+d.value.substring(h,d.value.length);d.focus();d.selectionStart=g+a.length;d.selectionEnd=g+a.length;d.focus()}else{d.value+=a;d.focus()}}}}}});
//# sourceMappingURL=module.min.js.map
